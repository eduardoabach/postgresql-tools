
<!-- saved from url=(0045)http://jsgames.sourceforge.net/tictactoe.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>!!! JS Games :: Tic-Tac-Toe !!!</title>
<style>
body,h1,h2,h3,.msg,td {font-family:Verdana,Comic Sans MS,Arial;}
body {margin:0px;}
h1 {font-size:28pt; font-weight:bold; margin-bottom:0px; color:#ffeecc;}
h2,.h2 {font-size:22pt; margin:0px; font-weight:bold; padding:0px;}
h3 {font-size:8pt; margin:0px; font-weight:bold;}
.cell {width:54px; height:60px; border:3px solid #999999; font-size:32pt; font-weight:bold;
       background-color:#606060; color:#ffffff;}
.tab {border:3px solid #999999; background-color:#999999;}
.msg {font-size:8pt; font-weight:bold;}
.tab {cursor:hand;}
.board {font-size:9pt; font-weight:bold;}
.status {font-size:9pt; font-weight:bold; color:#99ff99;}
.progress {font-size:8pt; font-weight:bold;}
.success {font-size:14pt; font-weight:bold; color:#33ccff;}
.bnote {font-size:8pt; font-weight:normal;color:white;}
a.notelnk,a.notelnk:visited,a.notelnk:active {color:#66ffcc;}
.bnotehead {font-size:10pt; font-weight:bold;color:#66ffcc;}
.email {font-size:8pt; font-weight:bold; color:white;}
.but {font-size:8pt; font-weight:bold; height:24px; background-color:#606060; background-image:url(images/butbase.gif);
      border:0px solid #cccccc; border-left:none; border-right:none; color:white;}
.fra {border:2px solid #999999; background-color:#606060;}
.clsThisGame, .clsBar {font-size:8pt; font-weight:bold; color:#cccccc;}
.clsBar {margin:0px; font-size:8pt; font-weight:bold; color:#ffffff;}
.clsOtherGame {margin:0px; font-size:8pt; font-weight:bold; color:#ffffff; text-decoration:none;}
.help {font-size:8pt; margin:0px; font-weight:bold;}
.menubar {padding:0px; margin:0px; brder-top:1px solid white; brder-bottom:1px solid white; background-color:#606060;
          background-image:url(images/menu.gif);}
</style>
<script language="javascript" src="./!!! JS Games    Tic-Tac-Toe !!!_files/games.js"></script>
<script>
var gtarget, ghi, gtries, gtime, gintervalid=-1;

function toggleHelp()
{
  if (butHelp.value == "Hide Help")
  {
    help.style.display = "none";
    butHelp.value = "Show Help";
  }
  else
  {
    help.style.display = "";
    butHelp.value = "Hide Help";
  }  
}

/*
  0 1 2
0|-----|
1|     |
2|_____|
*/
var gcoords = new Array(
"000102",
"101112",
"202122",
"001020",
"011121",
"021222",
"001122",
"021120"
);

//random number between low and hi
function r(low,hi)
{
  return Math.floor((hi-low)*Math.random()+low); 
}

//random number between 0 and hi
function r0(hi)
{
  return Math.floor((hi)*Math.random()); 
}

//random number between 1 and hi
function r1(hi)
{
  return Math.floor((hi-1)*Math.random()+1); 
}

function showMessage(msgstr,classname)
{
  if (classname != null)
    fldStatus.innerHTML = "<span class=" + classname + ">" + msgstr + "</span>";
  else
    fldStatus.innerHTML = msgstr;
}

function stopGame()
{
  clearInterval(gintervalid);
  gintervalid=-1;
}

function isMarked(obj)
{
  if (obj.innerHTML == "")
    return false;
  else
    return true;
}

function markCell(obj,symbol)
{
  obj.innerHTML = symbol;
}

function getCell(row,col)
{
  return eval("a_" + row + "_" + col);
}

function getMark(obj)
{
  return obj.innerHTML;
}

function getMark(row,col)
{
  return getCell(row,col).innerHTML;
}

function getMarkSpace(row,col)
{
  var r = getCell(row,col).innerHTML;
  if (r=="") r = " ";
  return r;
}

function drawBoard()
{
  var s, i, j;
  
  s = "<table class=tab cellpadding=0 cellspacing=0>\n";
  for (i=0;i<3;i++)
  {
    s += "<tr>\n";
    for (j=0;j<3;j++)
      s += "<td class=cell align=center id=a_" + i + "_" + j + " onclick=draw(this)></td>\n";
    s += "</tr>\n";
  }
  s += "</table>";
  board.innerHTML = s;
}

function toArray(coords)
{
  var arr = new Array();
  
  for (var i=0;i<6;i++)
  {
    arr[i] = parseInt(coords.substr(i,1));
  }
  return arr;
}

//Returns the blank cell in the first line where two cells are
//already filled with 'X' or 'O'. Returns null if match not found
function getTwoInLineCell(symbol)
{
  var s, arr;

  for (var i=0;i<gcoords.length;i++)
  {
    s = getLine(gcoords[i]);
    arr = toArray(gcoords[i]);
    if ( (symbol=="X" && s=="XX ") || (symbol=="O" && s=="OO ") )
      return getCell(arr[4],arr[5]);
    if ( (symbol=="X" && s=="X X") || (symbol=="O" && s=="O O") )
      return getCell(arr[2],arr[3]);
    if ( (symbol=="X" && s==" XX") || (symbol=="O" && s==" OO") )    
      return getCell(arr[0],arr[1]);
  }
  return null;
}

//Returns a blank cell (random) in the first line where one cell
//is already filled with 'X' or 'O' and the other two are blank.
//Returns null if no such match is found
function getOneInLineCell(symbol)
{
  var s, arr;

  for (var i=0;i<gcoords.length;i++)
  {
    s = getLine(gcoords[i]);
    arr = toArray(gcoords[i]);
    if ( (symbol=="X" && s=="X  ") || (symbol=="O" && s=="O  ") ) 
      return (r0(2)==0) ? getCell(arr[2],arr[3]) : getCell(arr[4],arr[5]);
    if ( (symbol=="X" && s=="  X") || (symbol=="O" && s=="  O") ) 
      return (r0(2)==0) ? getCell(arr[2],arr[3]) : getCell(arr[0],arr[1]);    
    if ( (symbol=="X" && s==" X ") || (symbol=="O" && s==" O ") ) 
      return (r0(2)==0) ? getCell(arr[0],arr[1]) : getCell(arr[4],arr[5]);    
  }
  return null;
}

function getRandomFreeCell()
{
  var i,j,row=new Array(),col=new Array(),c=-1,n;

  if (getMark(1,1)=="") return getCell(1,1);
  
  for (i=0; i<3; i++)
  {
    for (j=0; j<3; j++)
    {
      if (getMark(i,j)=="")
      {
        c++;
        row[c] = i;
        col[c] = j;
      }
    }
  }
  if (c == -1) return null;
  
  n = r0(c+1);
  return getCell(row[n],col[n]);
}

function getLine(coords)
{
  var a = toArray(coords);
  return getMarkSpace(a[0],a[1]) + getMarkSpace(a[2],a[3]) + getMarkSpace(a[4],a[5]);
}

function isGameOver()
{
  var s;
  
  for (var i=0;i<gcoords.length;i++)
  {
    s = getLine(gcoords[i]);
    if (s=="XXX")
    {
      showMessage("Game Over! You have won it!<br>Time Taken: " + gtime + " secs","success");
      stopGame();
      return true;
    }
    if (s=="OOO")
    {
      showMessage("Game Over! Sorry, you have lost it!<br>Time Taken: " + gtime + " secs","success");
      stopGame();
      return true;
    }
  }
  return false;
}

function draw(obj)
{
  var cell;
  
  if (gintervalid == -1)
  {
    alert("Please press the \"Start Game\" button to start a new game.");
    return;
  }

  if (isMarked(obj)) return; //exit if already marked
  
  markCell(obj,"X");

  if (isGameOver()) return;
  
  cell = getTwoInLineCell("O");
  if (cell != null) //found two O's and a blank in a line
  {
    markCell(cell,"O");
    if (isGameOver()) return; //always returns!
  }
  
  cell = getTwoInLineCell("X");
  if (cell != null) //found two X's and a blank in a line; block it!
  {
    markCell(cell,"O");
    return;
  }
  
  cell = getOneInLineCell("O");
  if (cell != null)
  {
    markCell(cell,"O");
    return;
  }
  
  cell = getRandomFreeCell();
  if (cell != null)
  {
    markCell(cell,"O");
    return;
  }
  else //no free cells available
  {
    showMessage("Game Over! It's a TIE!","success");
    stopGame();
  }   
}

function startGame()
{
  gtime = 0;
  drawBoard()
  showMessage("");
  clearInterval(gintervalid);
  gintervalid = setInterval("tick()",1000);  
  tick();
}

function tick()
{
  gtime++;
  showMessage("Time:&nbsp;" + gtime + "&nbsp;secs","progress");
}
</script>
</head>

<body bgcolor="black" text="white" onload="toggleHelp();drawBoard()" background="./!!! JS Games    Tic-Tac-Toe !!!_files/bkg.gif">
<center>
<h1>JS Games!</h1>
<font class="msg" color="#ffeeaa">)))) ONLINE JAVASCRIPT GAMES ((((</font><br>

<span class="msg">Copyright © 2002-2004 Arun Narayanan<br>&nbsp;</span>
<br>
<table width="100%" cellpadding="0" cellspacing="0">
<tbody><tr><td align="center" class="menubar" height="3"><img src="./!!! JS Games    Tic-Tac-Toe !!!_files/clear.gif" height="3"></td></tr>
<tr><td align="center" bgcolor="#000000">
<script>document.write(getGamesListCode('Tic-Tac-Toe'));</script><a class="clsOtherGame" href="http://jsgames.sourceforge.net/about/index.html" target="_blank" title="My Sites/Projects">My Projects</a><span class="clsBar"> • </span><a class="clsOtherGame" href="http://jsgames.sourceforge.net/index.html" title="Go to the Home Page!">JS Games Home</a><span class="clsBar"> • </span><a class="clsOtherGame" href="http://jsgames.sourceforge.net/download.html" title="Download the games to your PC">Download Games</a><span class="clsBar">&nbsp;<br>&nbsp;</span><a class="clsOtherGame" href="http://jsgames.sourceforge.net/marbles.html" title="Get all the marbles off the board!
The latest craze!">Marbles</a><span class="clsBar"> • </span><a class="clsOtherGame" href="http://jsgames.sourceforge.net/placeit.html" title="Arrange a bunch of crazy coloured pieces!
You&#39;ll like it!">Place It</a><span class="clsBar"> • </span><a class="clsOtherGame" href="http://jsgames.sourceforge.net/jigsaw.html" title="Play a Picture Puzzle with any picture! 
Warning: A very addictive game!">Jigsaw Puzzle</a><span class="clsBar"> • </span><a class="clsOtherGame" href="http://jsgames.sourceforge.net/arrange.html" title="Arrange the numbers in order. 
Hmmm... Challenging game!">Arrange</a><span class="clsBar"> • </span><span class="clsThisGame" title="Play the age-old game of Tic-Tac-Toe. 
Get &#39;em straight!">Tic-Tac-Toe</span><span class="clsBar"> • </span><a class="clsOtherGame" href="http://jsgames.sourceforge.net/hilo.html" title="A simple number guessing game. 
Cool your heads!">Hi-Lo</a>
</td></tr>
<tr><td align="center" class="menubar" height="3"><img src="./!!! JS Games    Tic-Tac-Toe !!!_files/clear.gif" height="3"></td></tr>
</tbody></table>
<br>

<table width="450" class="fra" cellpadding="0" cellspacing="0" border="0"><tbody><tr><td>

<table width="100%" cellpadding="2" cellspacing="0">
<tbody><tr><td colspan="2" class="bnotehead" height="31" background="./!!! JS Games    Tic-Tac-Toe !!!_files/framebase.gif">Important Note:</td></tr>
<tr><td class="bnote" valign="top">This game is written entirely using JavaScript. It requires Internet Explorer Version 4 or above
for proper functioning.
</td>
<td>
<a href="http://www.microsoft.com/windows/ie/" target="_blank"><img border="0" src="./!!! JS Games    Tic-Tac-Toe !!!_files/ie.gif" alt="Download Internet Explorer"></a>
</td></tr></tbody></table>

</td></tr></tbody></table>
<br>

<table width="620" height="47" border="0" cellpadding="0" cellspacing="0" bgcolor="#606060">
<tbody><tr><td colspan="4" height="31" background="./!!! JS Games    Tic-Tac-Toe !!!_files/framebase.gif"><img src="./!!! JS Games    Tic-Tac-Toe !!!_files/clear.gif" height="31"></td></tr>
<tr>
<td width="8">&nbsp;</td><td class="h2" align="center" width="98%">Tic-Tac-Toe</td>
<td align="right" valign="bottom"><input type="button" id="butHelp" value="Show Help" class="but" onclick="toggleHelp()"></td>
<td width="8">&nbsp;</td>
</tr>
</tbody></table>

<table id="help" width="620" background="./!!! JS Games    Tic-Tac-Toe !!!_files/body.gif" border="0" cellpadding="0" cellspacing="0" bgcolor="#606060" style="display: none;">
<tbody><tr><td height="10"><img src="./!!! JS Games    Tic-Tac-Toe !!!_files/clear.gif" height="10"></td></tr>
<tr><td class="help">
<ol>
<li>Press the "Start Game" button to start the game.</li>
<li>Click on any of the 9 cells on the board to mark a cross.</li>
<li>The computer would put a round in another cell.</li>
<li>The objective of the game is to complete a line (vertical, horizontal or diagonal).</li>
<li>The one who completes a line first wins.</li>
</ol>
</td></tr>
</tbody></table>

<table width="620" background="./!!! JS Games    Tic-Tac-Toe !!!_files/bottom.gif" border="0" cellpadding="0" cellspacing="0" bgcolor="#606060">
<tbody><tr><td height="29"></td><td valign="middle" align="center">
<h3>Complete a line in the shortest time...</h3>
</td></tr>
</tbody></table>
<p>
<table class="board">
<tbody><tr>
<td align="center">
<input class="but" type="button" value="Start Game" id="butStart" onclick="startGame();">
</td>
</tr>
<tr>
<td align="center"><br><div id="fldStatus" class="progress"></div><br></td>
</tr>
<tr>
<td align="center">
<div id="board"><table class="tab" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="cell" align="center" id="a_0_0" onclick="draw(this)"></td>
<td class="cell" align="center" id="a_0_1" onclick="draw(this)"></td>
<td class="cell" align="center" id="a_0_2" onclick="draw(this)"></td>
</tr>
<tr>
<td class="cell" align="center" id="a_1_0" onclick="draw(this)"></td>
<td class="cell" align="center" id="a_1_1" onclick="draw(this)"></td>
<td class="cell" align="center" id="a_1_2" onclick="draw(this)"></td>
</tr>
<tr>
<td class="cell" align="center" id="a_2_0" onclick="draw(this)"></td>
<td class="cell" align="center" id="a_2_1" onclick="draw(this)"></td>
<td class="cell" align="center" id="a_2_2" onclick="draw(this)"></td>
</tr>
</tbody></table></div></td>
</tr>
</tbody></table>
</p></center>
<br>
<br>
<center>
<table><tbody><tr><td>
<a href="http://sourceforge.net/"><img src="./!!! JS Games    Tic-Tac-Toe !!!_files/sflogo.php" width="210" height="62" border="0" alt="SourceForge.net Logo"></a>
</td><td bgcolor="black" class="bnote">
This game is developed under <a class="notelnk" href="http://www.opensource.org/" target="_blank">Open Source</a> terms.<br>
You may freely include this game in your site!<br>
To download the game visit the <a class="notelnk" href="http://sourceforge.net/projects/jsgames/" target="_blank">Project Page</a>.
</td></tr></tbody></table>

</center>
<br>
<p>


</p></body></html>